# Recordå‹å…¥åŠ›ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç¾¤ - è¨­è¨ˆæ¡ˆ

## ğŸ“‹ æ¦‚è¦

RecordInputã®æˆåŠŸã‚’è¸ã¾ãˆã€ã‚ˆã‚Šå‹•çš„ã§æŸ”è»Ÿãªå‹å®šç¾©ãŒå¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç¾¤ã‚’è¨­è¨ˆã—ã¾ã™ã€‚
åŸºæœ¬ç†å¿µã¯**ã€Œå®£è¨€çš„ã€ã€Œå‹å®‰å…¨ã€ã€Œå†å¸°çš„ã€**ã§ã‚ã‚Šã€RecordInputã®è¨­è¨ˆæ€æƒ³ã‚’ç¶™æ‰¿ã—ã¾ã™ã€‚

---

## ğŸ¯ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¸€è¦§

### 1. âœ… RecordInput (å®Œæˆ)
**ç”¨é€”**: å›ºå®šå‹ã®Record<K, V>å…¥åŠ›  
**ç‰¹å¾´**: ã‚­ãƒ¼ã¨å€¤ã®å‹ãŒäº‹å‰ã«æ±ºã¾ã£ã¦ã„ã‚‹  
**ä¾‹**: `Record<string, number>` - CevioAIæ„Ÿæƒ…è¨­å®š

```typescript
new RecordInput<number>()
    .entryTemplate(
        new RecordEntryTemplate(
            () => new TextInput(),
            () => new NumberSliderInput({ min: 0, max: 100 })
        )
    )
    .initialEntries({ "å–œã³": 80, "æ‚²ã—ã¿": 20 });
```

---

## ğŸ”§ æ–°è¦ææ¡ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### 2. ğŸ†• DynamicRecordInput (å‹•çš„Recordå…¥åŠ›)
**ç”¨é€”**: å€¤ã®å‹ã‚’å‹•çš„ã«é¸æŠã§ãã‚‹Recordå…¥åŠ›  
**ç‰¹å¾´**: ã‚¨ãƒ³ãƒˆãƒªã”ã¨ã«ç•°ãªã‚‹å‹ã®å€¤ã‚’æŒã¦ã‚‹  
**ãƒ‡ãƒ¼ã‚¿å‹**: `Record<string, DynamicValue>`

```typescript
// DynamicValueå‹ã®å®šç¾©ä¾‹
type DynamicValue = 
    | { type: "string", value: string }
    | { type: "number", value: number }
    | { type: "boolean", value: boolean }
    | { type: "record", value: Record<string, DynamicValue> }
    | { type: "list", value: DynamicValue[] };

// ä½¿ç”¨ä¾‹
new DynamicRecordInput()
    .availableTypes([
        { type: "string", label: "æ–‡å­—åˆ—", factory: () => new TextInput() },
        { type: "number", label: "æ•°å€¤", factory: () => new NumberSliderInput() },
        { type: "boolean", label: "çœŸå½å€¤", factory: () => new BoolToggleSwitchInput() },
        { type: "record", label: "ğŸ“¦ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ", factory: () => new DynamicRecordInput() },
        { type: "list", label: "ğŸ“‹ é…åˆ—", factory: () => new DynamicListInput() }
    ])
    .initialEntries({
        "userName": { type: "string", value: "å¤ªéƒ" },
        "age": { type: "number", value: 25 },
        "isPremium": { type: "boolean", value: true },
        "settings": { 
            type: "record", 
            value: {
                "theme": { type: "string", value: "dark" },
                "volume": { type: "number", value: 80 }
            }
        }
    });
```

**UIæ§‹é€ **:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã‚­ãƒ¼: userName  [å‹: ğŸ“ æ–‡å­—åˆ— â–¼]       â”‚
â”‚ å€¤: [å¤ªéƒ____________]                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã‚­ãƒ¼: settings  [å‹: ğŸ“¦ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ â–¼] â”‚
â”‚ å€¤: â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚     â”‚ ã‚­ãƒ¼: theme [å‹: ğŸ“ æ–‡å­—åˆ—] â”‚    â”‚
â”‚     â”‚ å€¤: [dark__________]        â”‚    â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å®Ÿè£…ã®ãƒã‚¤ãƒ³ãƒˆ**:
- å‹é¸æŠãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã§å€¤ã®å‹ã‚’åˆ‡ã‚Šæ›¿ãˆ
- å‹åˆ‡ã‚Šæ›¿ãˆæ™‚ã«å¯¾å¿œã™ã‚‹Inputã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å·®ã—æ›¿ãˆ
- å†å¸°çš„ã«ãƒã‚¹ãƒˆã—ãŸRecord/Listã‚’ã‚µãƒãƒ¼ãƒˆ

---

### 3. ğŸ†• DynamicListInput (å‹•çš„Listå…¥åŠ›)
**ç”¨é€”**: è¦ç´ ã®å‹ã‚’å‹•çš„ã«é¸æŠã§ãã‚‹Listå…¥åŠ›  
**ç‰¹å¾´**: å„è¦ç´ ãŒç•°ãªã‚‹å‹ã‚’æŒã¦ã‚‹ï¼ˆç•°è³ªé…åˆ—ï¼‰  
**ãƒ‡ãƒ¼ã‚¿å‹**: `DynamicValue[]`

```typescript
new DynamicListInput()
    .availableTypes([
        { type: "string", label: "æ–‡å­—åˆ—", factory: () => new TextInput() },
        { type: "number", label: "æ•°å€¤", factory: () => new IntTextInput() },
        { type: "record", label: "ğŸ“¦ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ", factory: () => new DynamicRecordInput() }
    ])
    .initialItems([
        { type: "string", value: "æœ€åˆã®é …ç›®" },
        { type: "number", value: 123 },
        { type: "record", value: { "name": { type: "string", value: "å¤ªéƒ" } } }
    ]);
```

**UIæ§‹é€ **:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [1] [å‹: ğŸ“ æ–‡å­—åˆ— â–¼] [æœ€åˆã®é …ç›®] â”‚
â”‚ [2] [å‹: ğŸ”¢ æ•°å€¤ â–¼]   [123]       â”‚
â”‚ [3] [å‹: ğŸ“¦ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ â–¼]        â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚     â”‚ name: [å¤ªéƒ_______]     â”‚    â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚ [â• é …ç›®ã‚’è¿½åŠ ]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 4. ğŸ†• TypeDefinitionInput (å‹å®šç¾©å…¥åŠ›)
**ç”¨é€”**: TypeScript/ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã®ã‚¯ãƒ©ã‚¹å®šç¾©ã‚’UIä½œæˆ  
**ç‰¹å¾´**: ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã¨å‹ã‚’å®šç¾©ã—ã¦ã‚¯ãƒ©ã‚¹æ§‹é€ ã‚’æ§‹ç¯‰  
**ãƒ‡ãƒ¼ã‚¿å‹**: `TypeDefinition`

```typescript
// TypeDefinitionå‹ã®å®šç¾©
type TypeDefinition = {
    name: string;  // å‹å
    fields: {
        name: string;
        type: TypeReference;  // ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å‹ or å‚ç…§å‹
        required: boolean;
        defaultValue?: any;
        description?: string;
    }[];
};

type TypeReference = 
    | { kind: "primitive", type: "string" | "number" | "boolean" }
    | { kind: "record", valueType: TypeReference }
    | { kind: "list", itemType: TypeReference }
    | { kind: "custom", typeName: string };  // ä»–ã®å®šç¾©æ¸ˆã¿å‹ã¸ã®å‚ç…§

// ä½¿ç”¨ä¾‹
new TypeDefinitionInput()
    .typeName("UserProfile")
    .addField({
        name: "userId",
        type: { kind: "primitive", type: "string" },
        required: true,
        description: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ID"
    })
    .addField({
        name: "preferences",
        type: { 
            kind: "record", 
            valueType: { kind: "primitive", type: "string" } 
        },
        required: false,
        description: "ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š"
    })
    .exportAsTypeScript();  // TypeScriptå‹å®šç¾©ã‚’ç”Ÿæˆ
    // => 
    // interface UserProfile {
    //     userId: string;
    //     preferences?: Record<string, string>;
    // }
```

**UIæ§‹é€ **:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å‹å: [UserProfile________________]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰:                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ åå‰: [userId_____] [å¿…é ˆ â˜‘]           â”‚ â”‚
â”‚ â”‚ å‹: [ğŸ“ string â–¼]                       â”‚ â”‚
â”‚ â”‚ èª¬æ˜: [ãƒ¦ãƒ¼ã‚¶ãƒ¼ID_________________]     â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ åå‰: [preferences] [å¿…é ˆ â˜]           â”‚ â”‚
â”‚ â”‚ å‹: [ğŸ“¦ Record â–¼] â†’ å€¤å‹: [ğŸ“ string] â”‚ â”‚
â”‚ â”‚ èª¬æ˜: [ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š_______________]     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ [â• ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ ]                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ“¤ TypeScriptå‡ºåŠ›] [ğŸ“¤ Zodå‡ºåŠ›] [ğŸ“¤ JSON] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å‡ºåŠ›å½¢å¼**:
- **TypeScript**: `interface` ã¾ãŸã¯ `type` å®šç¾©
- **Zod**: Zodã‚¹ã‚­ãƒ¼ãƒå®šç¾©
- **JSON Schema**: JSON Schemaå½¢å¼
- **Python**: Pydantic BaseModelå®šç¾©

---

### 5. ğŸ†• SchemaEditorInput (ã‚¹ã‚­ãƒ¼ãƒã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼)
**ç”¨é€”**: è¤‡æ•°ã®å‹å®šç¾©ã‚’ç®¡ç†ã—ã€å‹é–“ã®å‚ç…§é–¢ä¿‚ã‚’æ§‹ç¯‰  
**ç‰¹å¾´**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã®å‹ã‚·ã‚¹ãƒ†ãƒ ã‚’è¨­è¨ˆ  
**ãƒ‡ãƒ¼ã‚¿å‹**: `Schema`

```typescript
type Schema = {
    name: string;
    types: Map<string, TypeDefinition>;
};

new SchemaEditorInput()
    .schemaName("VoiceActorSystem")
    .addType("Character", new TypeDefinitionInput()
        .typeName("Character")
        .addField("name", { kind: "primitive", type: "string" }, true)
        .addField("emotions", { 
            kind: "record", 
            valueType: { kind: "primitive", type: "number" } 
        }, false)
    )
    .addType("VoiceSetting", new TypeDefinitionInput()
        .typeName("VoiceSetting")
        .addField("character", { kind: "custom", typeName: "Character" }, true)
        .addField("speed", { kind: "primitive", type: "number" }, false)
    )
    .exportFullSchema();
```

**UIæ§‹é€ **:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã‚¹ã‚­ãƒ¼ãƒå: [VoiceActorSystem_______]        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å‹ä¸€è¦§:                                      â”‚
â”‚ â”œâ”€ ğŸ“¦ Character                              â”‚
â”‚ â”‚   â”œâ”€ name: string (å¿…é ˆ)                   â”‚
â”‚ â”‚   â””â”€ emotions: Record<string, number>      â”‚
â”‚ â”œâ”€ ğŸ“¦ VoiceSetting                           â”‚
â”‚ â”‚   â”œâ”€ character: Character (å¿…é ˆ) â†å‚ç…§    â”‚
â”‚ â”‚   â””â”€ speed: number                         â”‚
â”‚ â””â”€ [â• æ–°ã—ã„å‹ã‚’è¿½åŠ ]                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ“Š ä¾å­˜é–¢ä¿‚ã‚°ãƒ©ãƒ•è¡¨ç¤º]                      â”‚
â”‚ [ğŸ“¤ å…¨å‹ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 6. ğŸ†• JsonSchemaInput (JSONã‚¹ã‚­ãƒ¼ãƒå…¥åŠ›)
**ç”¨é€”**: JSON Schemaã‚’ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã«ç·¨é›†  
**ç‰¹å¾´**: JSON Schemaä»•æ§˜ã«æº–æ‹ ã—ãŸå‹å®šç¾©  
**ãƒ‡ãƒ¼ã‚¿å‹**: JSON Schema Object

```typescript
new JsonSchemaInput()
    .title("UserProfile")
    .description("ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«æƒ…å ±")
    .property("name", { 
        type: "string", 
        minLength: 1, 
        maxLength: 100 
    })
    .property("age", { 
        type: "integer", 
        minimum: 0, 
        maximum: 150 
    })
    .property("tags", { 
        type: "array", 
        items: { type: "string" },
        uniqueItems: true
    })
    .required(["name", "age"])
    .exportSchema();
```

---

### 7. ğŸ†• ConfigBuilderInput (è¨­å®šãƒ“ãƒ«ãƒ€ãƒ¼)
**ç”¨é€”**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’GUIã§æ§‹ç¯‰  
**ç‰¹å¾´**: .envã€config.jsonã€YAMLç­‰ã‚’ç”Ÿæˆ  
**ãƒ‡ãƒ¼ã‚¿å‹**: `ConfigStructure`

```typescript
new ConfigBuilderInput()
    .section("Database", [
        { key: "DB_HOST", type: "string", defaultValue: "localhost" },
        { key: "DB_PORT", type: "number", defaultValue: 5432 },
        { key: "DB_SSL", type: "boolean", defaultValue: false }
    ])
    .section("API", [
        { key: "API_KEY", type: "string", secret: true },
        { key: "RATE_LIMIT", type: "number", defaultValue: 1000 }
    ])
    .exportFormat("dotenv");  // .envå½¢å¼ã§å‡ºåŠ›
    // =>
    // # Database
    // DB_HOST=localhost
    // DB_PORT=5432
    // DB_SSL=false
```

---

### 8. ğŸ†• GraphQLSchemaInput (GraphQLã‚¹ã‚­ãƒ¼ãƒã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼)
**ç”¨é€”**: GraphQLå‹å®šç¾©ã‚’ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ç·¨é›†  
**ç‰¹å¾´**: Query/Mutation/Subscriptionã‚’å®šç¾©  

```typescript
new GraphQLSchemaInput()
    .addType("User", [
        { field: "id", type: "ID!", nonNull: true },
        { field: "name", type: "String!" },
        { field: "posts", type: "[Post!]!" }
    ])
    .addType("Post", [
        { field: "id", type: "ID!" },
        { field: "title", type: "String!" },
        { field: "author", type: "User!" }
    ])
    .addQuery("getUser", { 
        args: [{ name: "id", type: "ID!" }], 
        returns: "User" 
    })
    .exportGraphQL();
```

---

### 9. ğŸ†• DatabaseSchemaInput (ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼)
**ç”¨é€”**: RDBã®ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©ã‚’ä½œæˆ  
**ç‰¹å¾´**: SQL CREATE TABLEæ–‡ã‚’ç”Ÿæˆ  

```typescript
new DatabaseSchemaInput()
    .tableName("users")
    .column("id", { type: "SERIAL", primaryKey: true })
    .column("email", { type: "VARCHAR(255)", unique: true, notNull: true })
    .column("created_at", { type: "TIMESTAMP", default: "CURRENT_TIMESTAMP" })
    .index("email_idx", ["email"])
    .exportSQL("postgresql");
```

---

### 10. ğŸ†• VariantRecordInput (ãƒãƒªã‚¢ãƒ³ãƒˆå‹Record)
**ç”¨é€”**: åˆ¤åˆ¥å…±ç”¨ä½“ï¼ˆTagged Unionï¼‰ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹Record  
**ç‰¹å¾´**: ã‚­ãƒ¼ã«ã‚ˆã£ã¦å€¤ã®å‹ãŒå¤‰ã‚ã‚‹  

```typescript
type VariantRecord = Record<string, 
    | { kind: "text", value: string }
    | { kind: "media", url: string, type: "image" | "video" }
    | { kind: "embed", html: string }
>;

new VariantRecordInput()
    .variants([
        { 
            kind: "text", 
            label: "ğŸ“ ãƒ†ã‚­ã‚¹ãƒˆ",
            factory: () => new TextInput() 
        },
        { 
            kind: "media", 
            label: "ğŸ–¼ï¸ ãƒ¡ãƒ‡ã‚£ã‚¢",
            factory: () => new ObjectInput<{ url: string, type: string }>() 
        },
        { 
            kind: "embed", 
            label: "ğŸ”— åŸ‹ã‚è¾¼ã¿",
            factory: () => new MultilineTextInput() 
        }
    ])
    .initialEntries({
        "header": { kind: "text", value: "ã‚ˆã†ã“ã" },
        "banner": { kind: "media", url: "/banner.jpg", type: "image" }
    });
```

---

## ğŸ¨ è¨­è¨ˆåŸå‰‡ï¼ˆRecordInputç²¾ç¥ã®ç¶™æ‰¿ï¼‰

### 1. å®£è¨€çš„API
```typescript
// âœ… Good: ãƒ¡ã‚½ãƒƒãƒ‰ãƒã‚§ãƒ¼ãƒ³ã§å®£è¨€çš„ã«
new DynamicRecordInput()
    .availableTypes([...])
    .initialEntries({...})
    .onChange(callback);

// âŒ Bad: æ‰‹ç¶šãçš„
const input = new DynamicRecordInput();
input.setTypes([...]);
input.addEntry("key1", value1);
input.addEntry("key2", value2);
```

### 2. ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ´»ç”¨
```typescript
// è¤‡æ•°ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã«å¯¾å¿œ
{ type: "string", factory: () => new TextInput() }
```

### 3. å‹å®‰å…¨æ€§
```typescript
// ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã§å‹ã‚’ä¿è¨¼
class DynamicRecordInput<T extends DynamicValue> 
    implements IInputComponent<Record<string, T>> {
    getValue(): Record<string, T> { ... }
}
```

### 4. bind()ã«ã‚ˆã‚‹å³æ™‚å®Ÿè¡Œ
```typescript
new DynamicRecordInput()
    .bind((self) => { 
        // åˆæœŸåŒ–å‡¦ç†
    });
```

---

## ğŸ“Š å„ªå…ˆåº¦ã¨å®Ÿè£…é †åº

### Phase 1: åŸºæœ¬çš„ãªå‹•çš„å‹ã‚µãƒãƒ¼ãƒˆ
1. **DynamicRecordInput** â­â­â­ (æœ€å„ªå…ˆ)
2. **DynamicListInput** â­â­â­

### Phase 2: å‹å®šç¾©ã‚·ã‚¹ãƒ†ãƒ 
3. **TypeDefinitionInput** â­â­
4. **SchemaEditorInput** â­â­

### Phase 3: ç‰¹æ®Šç”¨é€”
5. **ConfigBuilderInput** â­
6. **JsonSchemaInput** â­
7. **VariantRecordInput** â­

### Phase 4: å¤–éƒ¨é€£æº
8. **GraphQLSchemaInput** (å¿…è¦ã«å¿œã˜ã¦)
9. **DatabaseSchemaInput** (å¿…è¦ã«å¿œã˜ã¦)

---

## ğŸ”§ å…±é€šã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¨­è¨ˆ

```typescript
/**
 * å‹é¸æŠå¯èƒ½ãªInputå…±é€šã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
 */
interface ITypeSelectableInput<T> extends IInputComponent<T> {
    availableTypes(types: TypeOption[]): this;
    getSelectedType(key: string): string;
    changeType(key: string, newType: string): this;
}

/**
 * å‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³å®šç¾©
 */
interface TypeOption {
    type: string;
    label: string;
    icon?: string;
    factory: () => IInputComponent<any>;
    validator?: (value: any) => boolean;
}

/**
 * å‹•çš„å€¤ã®å‹å®šç¾©
 */
type DynamicValue = {
    type: string;
    value: any;
    metadata?: Record<string, any>;
};
```

---

## ğŸ’¡ å®Ÿè£…ã®ãƒ’ãƒ³ãƒˆ

### DynamicRecordInputã®æ ¸å¿ƒå®Ÿè£…
```typescript
class DynamicRecordInput extends LV2UIComponentBase 
    implements IInputComponent<Record<string, DynamicValue>> {
    
    private _typeOptions: Map<string, TypeOption> = new Map();
    private _entries: Map<string, {
        type: string;
        inputComponent: IInputComponent<any>;
    }> = new Map();
    
    // å‹åˆ‡ã‚Šæ›¿ãˆæ™‚ã®å‡¦ç†
    private changeEntryType(key: string, newType: string): void {
        const entry = this._entries.get(key);
        if (!entry) return;
        
        // å¤ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å‰Šé™¤
        entry.inputComponent.delete();
        
        // æ–°ã—ã„å‹ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç”Ÿæˆ
        const typeOption = this._typeOptions.get(newType);
        const newComponent = typeOption.factory();
        
        // ã‚¨ãƒ³ãƒˆãƒªã‚’æ›´æ–°
        this._entries.set(key, {
            type: newType,
            inputComponent: newComponent
        });
        
        // DOMã‚’å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
        this.renderDOM();
    }
}
```

---

## ğŸ¯ ã¾ã¨ã‚

RecordInputã®æˆåŠŸã‚’åŸºç›¤ã«ã€**å‹•çš„å‹é¸æŠ**ã¨**å†å¸°çš„æ§‹é€ **ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹æ–°ã—ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç¾¤ã‚’ææ¡ˆã—ã¾ã—ãŸã€‚

**æœ€ã‚‚å®Ÿç”¨çš„ãªå®Ÿè£…å€™è£œ**:
1. **DynamicRecordInput**: æŸ”è»Ÿãªè¨­å®šãƒ‡ãƒ¼ã‚¿ã«æœ€é©
2. **TypeDefinitionInput**: ã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ„ãƒ¼ãƒ«ã¨ã—ã¦æœ‰ç”¨
3. **ConfigBuilderInput**: é–‹ç™ºè€…å‘ã‘ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦éœ€è¦å¤§

ã“ã‚Œã‚‰ã™ã¹ã¦ãŒRecordInputã®**å®£è¨€çš„ãƒ»å‹å®‰å…¨ãƒ»å†å¸°çš„**ã¨ã„ã†è¨­è¨ˆæ€æƒ³ã‚’ç¶™æ‰¿ã—ã¦ã„ã¾ã™ã€‚

---

## ğŸ“– ä»˜éŒ²: DynamicRecordInputå®Œå…¨å®Ÿè£…ä¾‹

### ä½¿ç”¨ä¾‹: ã‚²ãƒ¼ãƒ è¨­å®šã‚·ã‚¹ãƒ†ãƒ 

```typescript
// ã‚²ãƒ¼ãƒ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®è¨­å®šã‚·ã‚¹ãƒ†ãƒ 
const gameCharacterConfig = new DynamicRecordInput()
    .availableTypes([
        { 
            type: "string", 
            label: "ğŸ“ æ–‡å­—åˆ—",
            icon: "ğŸ“",
            factory: () => new TextInput({ placeholder: "ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›" })
        },
        { 
            type: "number", 
            label: "ğŸ”¢ æ•°å€¤",
            icon: "ğŸ”¢",
            factory: () => new NumberSliderInput({ min: 0, max: 100, step: 1 })
        },
        { 
            type: "boolean", 
            label: "âœ“ çœŸå½å€¤",
            icon: "âœ“",
            factory: () => new BoolToggleSwitchInput()
        },
        { 
            type: "enum", 
            label: "ğŸ“‹ é¸æŠè‚¢",
            icon: "ğŸ“‹",
            factory: () => new EnumSelectInput({
                options: [
                    { value: "easy", label: "ç°¡å˜" },
                    { value: "normal", label: "æ™®é€š" },
                    { value: "hard", label: "é›£ã—ã„" }
                ]
            })
        },
        { 
            type: "color", 
            label: "ğŸ¨ è‰²",
            icon: "ğŸ¨",
            factory: () => new ColorPickerInput()
        },
        { 
            type: "record", 
            label: "ğŸ“¦ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ",
            icon: "ğŸ“¦",
            factory: () => new DynamicRecordInput().availableTypes([...])  // å†å¸°
        },
        { 
            type: "list", 
            label: "ğŸ“‹ é…åˆ—",
            icon: "ğŸ“‹",
            factory: () => new DynamicListInput().availableTypes([...])  // å†å¸°
        }
    ])
    .initialEntries({
        "characterName": { type: "string", value: "å‹‡è€…" },
        "level": { type: "number", value: 1 },
        "isAlive": { type: "boolean", value: true },
        "difficulty": { type: "enum", value: "normal" },
        "themeColor": { type: "color", value: "#FF5733" },
        "equipment": { 
            type: "record", 
            value: {
                "weapon": { type: "string", value: "éŠ…ã®å‰£" },
                "armor": { type: "string", value: "é©ã®é§" },
                "weaponLevel": { type: "number", value: 1 }
            }
        },
        "inventory": {
            type: "list",
            value: [
                { type: "string", value: "ãƒãƒ¼ã‚·ãƒ§ãƒ³" },
                { type: "string", value: "ã‚¨ãƒªã‚¯ã‚µãƒ¼" },
                { type: "number", value: 500 }  // æ‰€æŒé‡‘
            ]
        }
    })
    .onChange((value) => {
        console.log("è¨­å®šå¤‰æ›´:", value);
        // ã‚µãƒ¼ãƒãƒ¼ã«ä¿å­˜
    })
    .validate((value) => {
        // ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
        if (value["level"]?.value > 99) {
            return "ãƒ¬ãƒ™ãƒ«ã¯99ä»¥ä¸‹ã«ã—ã¦ãã ã•ã„";
        }
        return true;
    });

// å€¤ã®å–å¾—
const config = gameCharacterConfig.getValue();
// => {
//   "characterName": { type: "string", value: "å‹‡è€…" },
//   "level": { type: "number", value: 1 },
//   ...
// }

// ç‰¹å®šã®ã‚­ãƒ¼ã®å‹ã‚’å¤‰æ›´
gameCharacterConfig.changeEntryType("level", "string");  // æ•°å€¤â†’æ–‡å­—åˆ—ã«å¤‰æ›´
```

### UIè¡¨ç¤ºã‚¤ãƒ¡ãƒ¼ã‚¸ï¼ˆè©³ç´°ç‰ˆï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Dynamic Record Input                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ” æ¤œç´¢: [____________] ğŸ”½ å‹ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼: [å…¨ã¦]  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€ characterName â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ã‚­ãƒ¼: [characterName________]  [ğŸ—‘ï¸]                â”‚  â”‚
â”‚  â”‚ å‹: [ğŸ“ æ–‡å­—åˆ— â–¼]  â† ã‚¯ãƒªãƒƒã‚¯ã§å‹å¤‰æ›´             â”‚  â”‚
â”‚  â”‚ å€¤: [å‹‡è€…__________________]                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€ level â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ã‚­ãƒ¼: [level_____________]  [ğŸ—‘ï¸]                   â”‚  â”‚
â”‚  â”‚ å‹: [ğŸ”¢ æ•°å€¤ â–¼]                                    â”‚  â”‚
â”‚  â”‚ å€¤: [â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘] 1                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€ equipment (ãƒã‚¹ãƒˆ) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ã‚­ãƒ¼: [equipment_________]  [ğŸ—‘ï¸] [ğŸ“‹ å±•é–‹/æŠ˜ç•³]   â”‚  â”‚
â”‚  â”‚ å‹: [ğŸ“¦ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ â–¼]                            â”‚  â”‚
â”‚  â”‚ å€¤: â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚     â”‚ â”Œâ”€ weapon â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚  â”‚
â”‚  â”‚     â”‚ â”‚ ã‚­ãƒ¼: [weapon____]  [ğŸ—‘ï¸]            â”‚ â”‚  â”‚  â”‚
â”‚  â”‚     â”‚ â”‚ å‹: [ğŸ“ æ–‡å­—åˆ— â–¼]                   â”‚ â”‚  â”‚  â”‚
â”‚  â”‚     â”‚ â”‚ å€¤: [éŠ…ã®å‰£_________]               â”‚ â”‚  â”‚  â”‚
â”‚  â”‚     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚  â”‚
â”‚  â”‚     â”‚ â”Œâ”€ weaponLevel â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚  â”‚
â”‚  â”‚     â”‚ â”‚ ã‚­ãƒ¼: [weaponLevel]  [ğŸ—‘ï¸]           â”‚ â”‚  â”‚  â”‚
â”‚  â”‚     â”‚ â”‚ å‹: [ğŸ”¢ æ•°å€¤ â–¼]                     â”‚ â”‚  â”‚  â”‚
â”‚  â”‚     â”‚ â”‚ å€¤: [â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 1                  â”‚ â”‚  â”‚  â”‚
â”‚  â”‚     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚  â”‚
â”‚  â”‚     â”‚ [â• ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ]                    â”‚  â”‚  â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€ inventory (é…åˆ—) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ã‚­ãƒ¼: [inventory_________]  [ğŸ—‘ï¸]                   â”‚  â”‚
â”‚  â”‚ å‹: [ğŸ“‹ é…åˆ— â–¼]                                    â”‚  â”‚
â”‚  â”‚ å€¤: â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚     â”‚ [1] [ğŸ“ æ–‡å­—åˆ— â–¼] [ãƒãƒ¼ã‚·ãƒ§ãƒ³_____] [ğŸ—‘ï¸] â”‚  â”‚  â”‚
â”‚  â”‚     â”‚ [2] [ğŸ“ æ–‡å­—åˆ— â–¼] [ã‚¨ãƒªã‚¯ã‚µãƒ¼_____] [ğŸ—‘ï¸] â”‚  â”‚  â”‚
â”‚  â”‚     â”‚ [3] [ğŸ”¢ æ•°å€¤ â–¼]   [500___________] [ğŸ—‘ï¸] â”‚  â”‚  â”‚
â”‚  â”‚     â”‚ [â• ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¿½åŠ ]                      â”‚  â”‚  â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚  [â• ã‚¨ãƒ³ãƒˆãƒªã‚’è¿½åŠ ]  [ğŸ“‹ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé©ç”¨]  [ğŸ’¾ ä¿å­˜]  â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ {                                                  â”‚  â”‚
â”‚  â”‚   "characterName": { "type": "string", ... },     â”‚  â”‚
â”‚  â”‚   "level": { "type": "number", ... },             â”‚  â”‚
â”‚  â”‚   ...                                              â”‚  â”‚
â”‚  â”‚ }                                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é«˜åº¦ãªæ©Ÿèƒ½

```typescript
// 1. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ©Ÿèƒ½
gameCharacterConfig
    .saveAsTemplate("warrior", "æˆ¦å£«ç”¨è¨­å®š")
    .loadTemplate("wizard");  // é­”æ³•ä½¿ã„ç”¨è¨­å®šã‚’èª­ã¿è¾¼ã¿

// 2. ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
gameCharacterConfig
    .addValidation("level", (value) => {
        return value.value >= 1 && value.value <= 99 
            || "ãƒ¬ãƒ™ãƒ«ã¯1-99ã®ç¯„å›²ã§è¨­å®šã—ã¦ãã ã•ã„";
    })
    .addCrossFieldValidation(["characterName", "level"], (values) => {
        if (values.characterName?.value === "åˆå¿ƒè€…" && values.level?.value > 10) {
            return "åˆå¿ƒè€…ã¯ãƒ¬ãƒ™ãƒ«10ä»¥ä¸‹ã«ã—ã¦ãã ã•ã„";
        }
        return true;
    });

// 3. å‹å¤‰æ›ã‚¤ãƒ™ãƒ³ãƒˆ
gameCharacterConfig
    .onTypeChange((key, oldType, newType, oldValue) => {
        console.log(`${key}ã®å‹ãŒ${oldType}â†’${newType}ã«å¤‰æ›´ã•ã‚Œã¾ã—ãŸ`);
        // å€¤ã®å¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯
        if (oldType === "number" && newType === "string") {
            return { type: "string", value: oldValue.value.toString() };
        }
    });

// 4. ã‚¤ãƒ³ãƒãƒ¼ãƒˆ/ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
const jsonData = gameCharacterConfig.exportJSON();
gameCharacterConfig.importJSON(jsonData);

const typescript = gameCharacterConfig.exportTypeScript();
// => type GameConfig = {
//      characterName: string;
//      level: number;
//      equipment: {
//        weapon: string;
//        weaponLevel: number;
//      };
//      ...
//    }
```

### å®Ÿè£…æ™‚ã®èª²é¡Œã¨è§£æ±ºç­–

#### èª²é¡Œ1: å†å¸°çš„ãªå‹å®šç¾©
**è§£æ±º**: å¾ªç’°å‚ç…§ã‚’é¿ã‘ã‚‹ãŸã‚ã€æ·±ã•åˆ¶é™ã¨é…å»¶è©•ä¾¡ã‚’ä½¿ç”¨

```typescript
class DynamicRecordInput {
    private maxDepth: number = 10;
    private currentDepth: number = 0;
    
    constructor(depth: number = 0) {
        this.currentDepth = depth;
    }
    
    private createNestedInput(type: string): IInputComponent<any> {
        if (this.currentDepth >= this.maxDepth) {
            throw new Error("æœ€å¤§ãƒã‚¹ãƒˆæ·±åº¦ã‚’è¶…ãˆã¾ã—ãŸ");
        }
        
        if (type === "record") {
            return new DynamicRecordInput(this.currentDepth + 1);
        }
        // ...
    }
}
```

#### èª²é¡Œ2: å‹åˆ‡ã‚Šæ›¿ãˆæ™‚ã®å€¤ã®ä¿æŒ
**è§£æ±º**: å¯èƒ½ãªç¯„å›²ã§å€¤ã‚’å¤‰æ›ã€ä¸å¯èƒ½ãªã‚‰è­¦å‘Šè¡¨ç¤º

```typescript
private convertValue(oldType: string, newType: string, oldValue: any): any {
    // number â†’ string
    if (oldType === "number" && newType === "string") {
        return oldValue.toString();
    }
    // string â†’ number
    if (oldType === "string" && newType === "number") {
        const num = parseFloat(oldValue);
        return isNaN(num) ? 0 : num;
    }
    // boolean â†’ string
    if (oldType === "boolean" && newType === "string") {
        return oldValue ? "true" : "false";
    }
    // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¿”ã™
    return this.getDefaultValue(newType);
}
```

#### èª²é¡Œ3: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼ˆå¤§é‡ã®ã‚¨ãƒ³ãƒˆãƒªï¼‰
**è§£æ±º**: ä»®æƒ³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã¨ãƒ¬ã‚¤ã‚¸ãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°

```typescript
private renderEntries(): void {
    const visibleEntries = this.getVisibleEntries();  // è¡¨ç¤ºç¯„å›²ã®ã¿
    this._entriesContainer.clearChildren();
    
    for (const [key, entry] of visibleEntries) {
        this._entriesContainer.childs([this.createEntryRow(key, entry)]);
    }
}
```

### ObjectInputã¨ã®çµ±åˆä¾‹

```typescript
// CevioAIã®æ‹¡å¼µç‰ˆ: å®Œå…¨ã«å‹•çš„ãªè¨­å®šã‚·ã‚¹ãƒ†ãƒ 
type CevioAIAdvancedSetting = {
    characterName: string;
    dynamicSettings: Record<string, DynamicValue>;
};

const advancedCevioAI = new ObjectInput<CevioAIAdvancedSetting>({
    layout: "vertical",
    sectionTitle: "ğŸ­ CevioAI é«˜åº¦ãªè¨­å®š"
}).properties([
    new Property(
        new PropertyType("characterName", new TextInput()),
        new PropertyOptions({ label: "ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å", required: true })
    ),
    new Property(
        new PropertyType("dynamicSettings", 
            new DynamicRecordInput()
                .availableTypes([...])
                .initialEntries({
                    "voiceSpeed": { type: "number", value: 50 },
                    "emotionPresets": { 
                        type: "record", 
                        value: {
                            "happy": { type: "number", value: 80 }
                        }
                    }
                })
        ),
        new PropertyOptions({ 
            label: "å‹•çš„è¨­å®š", 
            required: false,
            defaultValue: {}
        })
    )
]);
```

---

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **DynamicRecordInput**ã®å®Ÿè£…ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ä½œæˆ
2. TypeScriptã®å‹æ¨è«–ã¨ã®æ•´åˆæ€§ç¢ºèª
3. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆï¼ˆ1000ã‚¨ãƒ³ãƒˆãƒªä»¥ä¸Šï¼‰
4. RecordInputTestPageã¸ã®çµ±åˆ
5. CevioAIè¨­å®šã§ã®å®Ÿæˆ¦æŠ•å…¥

ã™ã¹ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒ**RecordInputã®å®£è¨€çš„ç²¾ç¥**ã‚’å—ã‘ç¶™ãã€å‹å®‰å…¨ã§ç¾ã—ã„APIã‚’æä¾›ã—ã¾ã™ï¼
